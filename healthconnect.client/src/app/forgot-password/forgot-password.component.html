<div class="forgot-password-container">
  <div class="logo-section">
    <div class="logo-content">
      <h2>Welcome to your</h2>
      <h2>Healthcare Companion</h2>
      <p class="tagline">Health, Just a Click Away!</p>
      <img class="logo_nobg" src="../../assets/logos/icononly_transparent_nobuffer.png" />
    </div>
  </div>

  <div class="forgot-password-section">
    <div class="forgot-password-content-wrapper">
      <div class="forgot-password-content">
        <h1>Madiba HealthConnect</h1>

        <div *ngIf="!emailSent">
          <p class="instruction">Enter your academic email to reset your password</p>

          <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="forgot-password-form">
            <!-- Email Field -->
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email"
                     id="email"
                     formControlName="email"
                     placeholder="example@mandela.ac.za"
                     class="form-control"
                     [class.error]="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched">

              <div class="validation-error" *ngIf="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched">
                <span *ngIf="forgotPasswordForm.get('email')?.errors?.['required']">Email is required</span>
                <span *ngIf="forgotPasswordForm.get('email')?.errors?.['invalidAcademicEmail']">Please enter a valid academic email</span>
                <span *ngIf="forgotPasswordForm.get('email')?.errors?.['email'] && !forgotPasswordForm.get('email')?.errors?.['invalidAcademicEmail']">Please enter a valid email address</span>
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="button-group">
              <button type="submit"
                      class="send-email-button"
                      [disabled]="isLoading">
                <span *ngIf="!isLoading">Send Reset Email</span>
                <span *ngIf="isLoading">Sending...</span>
              </button>

              <button type="button"
                      class="back-to-login-button"
                      (click)="navigateToLogin()">
                Back to Login
              </button>
            </div>
          </form>
        </div>

        <!-- Success Message -->
        <div *ngIf="emailSent" class="success-message">
          <div class="success-icon">âœ“</div>
          <h3>Email Sent Successfully!</h3>
          <p>We've sent password reset instructions to your email address.</p>
          <p class="check-inbox">Please check your inbox and follow the instructions to reset your password.</p>

          <div class="success-actions">
            <button class="send-email-button" (click)="sendAnotherEmail()">
              Send to Another Email
            </button>
            <button class="back-to-login-button" (click)="navigateToLogin()">
              Back to Login
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Disclaimer Section -->
    <div class="disclaimer-section">
      <h3>Disclaimer</h3>
      <p>
        All parties agree that they will comply with POPI regulations and process all the information
        and/or personal data in respect of the services being rendered in accordance with the said regulations.
      </p>
      <p>
        It is confirmed that by submitting information to Madiba HealthConnect, irrespective as to how
        such information is submitted, you consent to the collection, collation, processing, and storing
        of such information and the use and disclosure of such information in accordance with this policy.
      </p>
    </div>
  </div>
</div>
