<div class="dashboard-container">
  <!-- Top Header Bar -->
  <header class="top-bar">
    <div class="header-content">
      <div class="header-main">
        <h1>Madiba HealthConnect</h1>
        <div class="header-subsection">
          <img class="header-logo" src="../../assets/logos/icononly_transparent_nobuffer.png" />
          <div class="header-titles">
            <p class="page-title">Privacy Policy</p>
            <p class="profile-indicator">Data Protection & POPI Compliance</p>
          </div>
        </div>
      </div>
    </div>
    <div class="header-avatar">
      PP
    </div>
  </header>

  <div class="dashboard-layout">
    <!-- Left Sidebar - Navigation -->
    <aside class="sidebar">
      <nav class="main-nav">
        <ul>
          <li *ngFor="let item of menuItems"
              [class.active]="item.checked"
              (click)="onMenuItemClick(item)"
              [attr.data-section]="item.id">
            <label class="menu-item">
              <div class="menu-text">
                <span class="menu-label">{{ item.label }}</span>
                <span class="menu-description">{{ item.description }}</span>
              </div>
            </label>
          </li>
          <li (click)="navigateBack()">
            <label class="menu-item">
              <div class="menu-text">
                <span class="menu-label">‚Üê Back</span>
                <span class="menu-description">Return to previous page</span>
              </div>
            </label>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">
      <!-- Introduction -->
      <section class="content-section">
        <div class="content-card">
          <div class="card-header">
            <h2>Privacy Policy</h2>
          </div>
          <div class="card-content">
            <p class="last-updated">Last updated: October 2025</p>
            <p>
              At Madiba HealthConnect, we are committed to protecting your privacy and ensuring the
              confidentiality of your personal and health information. This policy outlines how we
              collect, use, and protect your data in compliance with the Protection of Personal
              Information Act (POPI).
            </p>
          </div>
        </div>
      </section>

      <!-- 1. Introduction -->
      <section id="introduction-content" class="content-section" [class.hidden]="!isSectionActive('introduction')">
        <div class="content-card">
          <div class="card-header">
            <h3>1. Introduction</h3>
          </div>
          <div class="card-content">
            <p>
              This Privacy Policy applies to all personal information collected and processed by
              Madiba HealthConnect through our platform and services.
            </p>

            <div class="policy-highlight">
              <h4>Scope of Application:</h4>
              <ul class="terms-list">
                <li>All registered students and staff of Nelson Mandela University</li>
                <li>All personal and health information collected through our platform</li>
                <li>All interactions with Madiba HealthConnect services</li>
                <li>Compliance with South African POPI regulations</li>
              </ul>
            </div>

            <p>
              By using our services, you consent to the collection and processing of your personal
              information as described in this policy.
            </p>
          </div>
        </div>
      </section>

      <!-- 2. Data Collection -->
      <section id="data-collection-content" class="content-section" [class.hidden]="!isSectionActive('data-collection')">
        <div class="content-card">
          <div class="card-header">
            <h3>2. Data We Collect</h3>
          </div>
          <div class="card-content">
            <h4>Personal Information:</h4>
            <ul class="terms-list">
              <li><strong>Identification:</strong> Student number, name, contact details</li>
              <li><strong>Academic:</strong> Campus location, course/program details</li>
              <li><strong>Contact:</strong> Email address, phone number (optional)</li>
              <li><strong>Account:</strong> Login credentials, usage preferences</li>
            </ul>

            <h4>Health Information:</h4>
            <ul class="terms-list">
              <li>Appointment booking details and preferences</li>
              <li>Consultation notes (only when provided during tele-consultations)</li>
              <li>Medical history relevant to your care (with explicit consent)</li>
              <li>Communication with healthcare providers</li>
            </ul>

            <h4>Technical Information:</h4>
            <ul class="terms-list">
              <li>Device information and IP addresses</li>
              <li>Usage patterns and platform interactions</li>
              <li>Cookies and similar technologies for platform functionality</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- 3. Data Usage -->
      <section id="data-usage-content" class="content-section" [class.hidden]="!isSectionActive('data-usage')">
        <div class="content-card">
          <div class="card-header">
            <h3>3. How We Use Your Data</h3>
          </div>
          <div class="card-content">
            <div class="usage-grid">
              <div class="usage-item">
                <h4>Service Provision</h4>
                <p>To provide and maintain healthcare services, appointment scheduling, and tele-consultations</p>
              </div>
              <div class="usage-item">
                <h4>Communication</h4>
                <p>To send appointment reminders, health updates, and important service notifications</p>
              </div>
              <div class="usage-item">
                <h4>Platform Improvement</h4>
                <p>To enhance user experience and develop new features based on usage patterns</p>
              </div>
              <div class="usage-item">
                <h4>Legal Compliance</h4>
                <p>To comply with POPI regulations and other applicable laws</p>
              </div>
            </div>

            <div class="consent-note">
              <h4>Legal Basis for Processing:</h4>
              <ul class="terms-list">
                <li><strong>Consent:</strong> For specific health information processing</li>
                <li><strong>Contract:</strong> To provide requested healthcare services</li>
                <li><strong>Legal Obligation:</strong> Compliance with healthcare regulations</li>
                <li><strong>Legitimate Interest:</strong> Platform security and improvement</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- 4. Data Sharing -->
      <section id="data-sharing-content" class="content-section" [class.hidden]="!isSectionActive('data-sharing')">
        <div class="content-card">
          <div class="card-header">
            <h3>4. Data Sharing and Disclosure</h3>
          </div>
          <div class="card-content">
            <h4>We may share your information with:</h4>

            <div class="sharing-category">
              <h5>Healthcare Providers</h5>
              <p>Authorized campus healthcare professionals involved in your care</p>
            </div>

            <div class="sharing-category">
              <h5>University Administration</h5>
              <p>Limited information for verification of student/staff status</p>
            </div>

            <div class="sharing-category">
              <h5>Service Providers</h5>
              <p>Trusted third parties who assist in platform operation (under strict confidentiality)</p>
            </div>

            <div class="sharing-category">
              <h5>Legal Requirements</h5>
              <p>When required by law, court order, or government authorities</p>
            </div>

            <div class="data-transfer">
              <h4>Data Transfers:</h4>
              <p>
                Your data is stored and processed within South Africa. We do not transfer your
                personal information to other countries unless required by law and with appropriate
                safeguards.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- 5. Your Rights -->
      <section id="user-rights-content" class="content-section" [class.hidden]="!isSectionActive('user-rights')">
        <div class="content-card">
          <div class="card-header">
            <h3>5. Your POPI Rights</h3>
          </div>
          <div class="card-content">
            <p>
              Under POPI regulations, you have the following rights regarding your personal information:
            </p>

            <div class="rights-grid">
              <div class="right-item">
                <h4>Right to Access</h4>
                <p>Request a copy of your personal information we hold</p>
              </div>
              <div class="right-item">
                <h4>Right to Correction</h4>
                <p>Request correction of inaccurate or incomplete information</p>
              </div>
              <div class="right-item">
                <h4>Right to Deletion</h4>
                <p>Request deletion of your personal information under certain conditions</p>
              </div>
              <div class="right-item">
                <h4>Right to Object</h4>
                <p>Object to certain types of processing of your information</p>
              </div>
            </div>

            <div class="rights-actions">
              <h4>Exercising Your Rights:</h4>
              <p>
                To exercise any of these rights, please contact our Information Officer at:
                <strong>privacy&#64;mandela.ac.za</strong>
              </p>
              <p>We will respond to your request within 21 days as required by POPI.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- 6. Security Measures -->
      <section id="security-content" class="content-section" [class.hidden]="!isSectionActive('security')">
        <div class="content-card">
          <div class="card-header">
            <h3>6. Data Security</h3>
          </div>
          <div class="card-content">
            <h4>We implement appropriate security measures including:</h4>

            <div class="security-measures">
              <div class="security-item">
                <h5>Encryption</h5>
                <p>All data is encrypted in transit and at rest</p>
              </div>
              <div class="security-item">
                <h5>Access Controls</h5>
                <p>Strict role-based access to personal information</p>
              </div>
              <div class="security-item">
                <h5>Regular Audits</h5>
                <p>Continuous security monitoring and vulnerability assessments</p>
              </div>
              <div class="security-item">
                <h5>Staff Training</h5>
                <p>Regular privacy and security training for all personnel</p>
              </div>
            </div>

            <div class="breach-protocol">
              <h4>Data Breach Protocol:</h4>
              <p>
                In the unlikely event of a data breach, we have established procedures to:
                contain the breach, assess the impact, notify affected individuals and the
                Information Regulator as required by POPI, and take corrective action.
              </p>
            </div>

            <div class="contact-info">
              <h4>Contact Our Information Officer:</h4>
              <p><strong>Email:</strong> privacy&#64;mandela.ac.za</p>
              <p><strong>Phone:</strong> +27 41 504 1234</p>
              <p><strong>Address:</strong> Nelson Mandela University, Information Governance Office</p>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>
